(this.webpackJsonptic_tac_toe=this.webpackJsonptic_tac_toe||[]).push([[0],{21:function(e,t,a){e.exports=a(42)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),o=a.n(r),l=(a(26),a(5)),i=a(2),u=function(e,t){switch(t.type){case"JOIN":return Object(i.a)(Object(i.a)({},e),{},{join:!0,gameID:t.payload});default:return e}},m=function(e,t){switch(t.type){case"SUCCESS":return{msg:t.payload,type:"success"};case"WARNING":return{msg:t.payload,type:"info"};case"ERROR":return console.log("entered error case"),{msg:t.payload,type:"error"};case"RESET":return{msg:void 0,type:void 0};default:return e}},s=(a(27),function(e){return c.a.createElement("div",{onClick:e.onClickHandler,className:"button ".concat(e.extra_button_style)},c.a.createElement("p",{className:"button_text ".concat(e.extra_text_style)},e.text))}),d=(a(28),function(e){return c.a.createElement("div",{className:"button_container"},c.a.createElement(s,{onClickHandler:e.hostGameHandler,text:"Host Game"}),c.a.createElement(s,{onClickHandler:e.createGameHandler,text:"Join Game"}))}),p=a(7),E="Online-Tic-Tac-Toe-frontend",v=function(){var e=Object(p.e)(),t=function(t){e.push(t)};return c.a.createElement(d,{hostGameHandler:function(){return t("".concat(E,"/game"))},createGameHandler:function(){return t("".concat(E,"/join"))}})},y=a(14),f=a.n(y),C=a(20),g=(a(35),function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(p.e)(),i=Object(n.useContext)(U),u=Object(n.useContext)(F),m=function(){var e=Object(C.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("http://localhost:9000/".concat(a));case 4:200===e.sent.status&&(i({type:"JOIN",payload:a}),u({type:"SUCCESS",payload:"Start playing"}),u({type:"RESET"}),o.push("".concat("Online-Tic-Tac-Toe-frontend","/game"))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),u({type:"ERROR",payload:"Invalid GameID"}),u({type:"RESET"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"modal_container_wrapper"},c.a.createElement("div",{className:"modal_container"},c.a.createElement("input",{value:a,className:"modal_input",placeholder:"enter game id",maxLength:"15",onChange:function(e){return r(e.target.value)}}),c.a.createElement(s,{onClickHandler:m,extra_button_style:"button_override",text:"Join game",extra_text_style:"button_text_override"})))}),_=function(){return c.a.createElement(g,null)},O=function(e,t){switch(t.type){case"SWITCH_TURN":return Object(i.a)(Object(i.a)({},e),{},{myTurn:t.payload});case"SET_GAME_ID":return Object(i.a)(Object(i.a)({},e),{},{gameID:t.payload});case"SET_GAME_CONFIG":return Object(i.a)(Object(i.a)(Object(i.a)({},e),t.payload),{},{gameStarted:!0});case"JOIN":return Object(i.a)(Object(i.a)({},e),{},{join:!0});case"UPDATE_MATRIX":var a=t.payload.value,n=Object(l.a)(t.payload.cell_num,2),c=n[0],r=n[1];return e.matrix[c][r]=a,Object(i.a)(Object(i.a)({},e),t.payload);case"RESET":var o=[[void 0,void 0,void 0],[void 0,void 0,void 0],[void 0,void 0,void 0]];return Object(i.a)(Object(i.a)({},e),{},{matrix:o},t.payload);default:return e}},b=(a(36),function(){return c.a.createElement("svg",{className:"svg-image",width:"40",height:"40",viewBox:"0 0 189 189",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.5 189C146.691 189 189 146.691 189 94.5C189 42.3091 146.691 0 94.5 0C42.3091 0 0 42.3091 0 94.5C0 146.691 42.3091 189 94.5 189ZM94.5 153C126.809 153 153 126.809 153 94.5C153 62.1913 126.809 36 94.5 36C62.1913 36 36 62.1913 36 94.5C36 126.809 62.1913 153 94.5 153Z",fill:"white"}))}),x=function(){return c.a.createElement("svg",{className:"svg-image",width:"40",height:"40",viewBox:"0 0 75 69",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M73.6711 2.56469L72.2123 1.2226C71.3614 0.439784 70.2074 0 69.004 0C67.8007 0 66.6466 0.439784 65.7957 1.2226L37.5 27.2547L9.20425 1.2226C8.35337 0.439784 7.19932 0 5.99598 0C4.79264 0 3.6386 0.439784 2.78771 1.2226L1.32891 2.56469C0.907596 2.9523 0.573389 3.41246 0.345374 3.9189C0.117359 4.42534 0 4.96814 0 5.5163C0 6.06447 0.117359 6.60727 0.345374 7.11371C0.573389 7.62015 0.907596 8.0803 1.32891 8.46791L29.6247 34.5L1.32891 60.5321C0.907596 60.9197 0.573389 61.3799 0.345374 61.8863C0.117359 62.3927 0 62.9355 0 63.4837C0 64.0319 0.117359 64.5747 0.345374 65.0811C0.573389 65.5875 0.907596 66.0477 1.32891 66.4353L2.78771 67.7774C3.6386 68.5602 4.79264 69 5.99598 69C7.19932 69 8.35337 68.5602 9.20425 67.7774L37.5 41.7453L65.7957 67.7774C66.6466 68.5602 67.8007 69 69.004 69C70.2074 69 71.3614 68.5602 72.2123 67.7774L73.6711 66.4353C74.522 65.6525 75 64.5908 75 63.4837C75 62.3766 74.522 61.3149 73.6711 60.5321L45.3753 34.5L73.6711 8.46791C74.522 7.6851 75 6.62337 75 5.5163C75 4.40923 74.522 3.34751 73.6711 2.56469V2.56469Z",fill:"white"}))},j=function(e){return void 0!==e.imgID?e.imgID%2===0?c.a.createElement(b,null):c.a.createElement(x,null):c.a.createElement(c.a.Fragment,null)},h=(a(37),function(e){var t=Object(n.useContext)(G),a=Object(n.useContext)(I),r=Object(n.useMemo)((function(){var t=e.cell_num.split("_");return[parseInt(t[0]),parseInt(t[1])]}),[]),o=Object(l.a)(r,2),i=o[0],u=o[1],m=t.matrix[i][u];return void 0!==m?c.a.createElement("div",{className:"cell"},c.a.createElement(j,{imgID:m%2})):c.a.createElement("div",{className:"cell",onClick:t.myTurn&t.gameStarted?function(){a.send(JSON.stringify({action:"update",game_id:t.gameID,userType:t.userType,cell_num:e.cell_num}))}:null})}),T=(a(38),function(e){return c.a.createElement("div",{className:"row"},c.a.createElement(h,{cell_num:"".concat(e.row_num,"_0")}),c.a.createElement(h,{cell_num:"".concat(e.row_num,"_1")}),c.a.createElement(h,{cell_num:"".concat(e.row_num,"_2")}))}),S=function(e){return c.a.createElement("div",null,c.a.createElement("h3",{className:"".concat(e.animationClass)},e.name),c.a.createElement(j,{imgID:e.imgID}))},w=(a(39),function(){var e=Object(n.useContext)(G);return e.gameStarted?c.a.createElement("div",{className:"player-info"},c.a.createElement(S,{imgID:e.userType,name:"You",animationClass:e.myTurn?"player-active":null}),c.a.createElement(S,{imgID:(e.userType+1)%2,name:"Opponent",animationClass:e.myTurn?null:"player-active"})):c.a.createElement("h6",{className:"show-info"},"Share this gameId and start playing")}),N=(a(40),null),I=c.a.createContext(),R=function(e){var t=Object(n.useContext)(G),a=Object(n.useContext)(D),r=Object(n.useContext)(P),o=Object(n.useContext)(F);N||((N=new WebSocket("ws://localhost:9000")).onopen=function(){r?N.send(JSON.stringify({action:"join_game",game_id:r.gameID})):N.send(JSON.stringify({action:"create_game"}))},N.onmessage=function(e){var t=JSON.parse(e.data),n=t.action;"set_game_id"===n?l(t.gameID):"opponent_turn"===n&&a({type:"SWITCH_TURN",payload:!1}),"game_settings"===n?i(t):"update_matrix"===n?a({type:"UPDATE_MATRIX",payload:t}):"draw"===n?(o({type:"WARNING",payload:"match draw"}),a({type:"RESET",payload:t}),o({type:"RESET"})):"you_lost"===n?(o({type:"ERROR",payload:"You lost"}),a({type:"RESET",payload:t}),o({type:"RESET"})):"you_won"===n&&(o({type:"SUCCESS",payload:"You won"}),a({type:"RESET",payload:t}),o({type:"RESET"}))});var l=function(e){a({type:"SET_GAME_ID",payload:e})},i=function(e){a({type:"SET_GAME_CONFIG",payload:e})};return c.a.createElement(I.Provider,{value:N},c.a.createElement("div",{className:"board"},c.a.createElement("h2",{className:"board-heading"},"Game id : ",t.gameID),c.a.createElement(T,{row_num:"0"}),c.a.createElement(T,{row_num:"1"}),c.a.createElement(T,{row_num:"2"}),c.a.createElement(w,null)))},D=c.a.createContext(),G=c.a.createContext(),L=c.a.createContext(),k=[[void 0,void 0,void 0],[void 0,void 0,void 0],[void 0,void 0,void 0]],H=function(){var e=Object(n.useReducer)(O,{myTurn:!1,gameStarted:!1,matrix:k}),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useReducer)(u)[0];return c.a.createElement(D.Provider,{value:r},c.a.createElement(G.Provider,{value:a},c.a.createElement(L.Provider,{value:o},c.a.createElement(R,null))))},J=(a(41),function(e){return c.a.createElement("div",{className:"notification-container"},c.a.createElement("p",{className:"notification-message"},e.state.msg),c.a.createElement("div",{className:"".concat(e.state.type)}))}),M=function(){var e=Object(n.useContext)(W);return e?c.a.createElement(J,{state:e}):c.a.createElement(c.a.Fragment,null)},A=a(10),P=c.a.createContext(),U=c.a.createContext(),W=c.a.createContext(),F=c.a.createContext(),B="Online-Tic-Tac-Toe-frontend",Y=function(){var e=Object(n.useReducer)(u),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useReducer)(m),i=Object(l.a)(o,2),s=i[0],d=i[1];return c.a.createElement(A.a,null,c.a.createElement(W.Provider,{value:s},c.a.createElement(F.Provider,{value:d},c.a.createElement(U.Provider,{value:r},c.a.createElement(P.Provider,{value:a},c.a.createElement(M,null),c.a.createElement(p.a,{exact:!0,path:"".concat(B,"/"),component:v}),c.a.createElement(p.a,{exact:!0,path:"".concat(B,"/join"),component:_}),c.a.createElement(p.a,{exact:!0,path:"".concat(B,"/game"),component:H}))))))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Y,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.6bb33339.chunk.js.map